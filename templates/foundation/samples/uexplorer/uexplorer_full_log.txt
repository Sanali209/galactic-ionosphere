2025-12-18 09:22:51.640 | WARNING  | src.ucorefs.extractors.xmp:__init__:27 - pyexiv2 not available, XMP extraction disabled
2025-12-18 09:22:51.641 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .jpg
2025-12-18 09:22:51.641 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .jpeg
2025-12-18 09:22:51.641 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .png
2025-12-18 09:22:51.641 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .webp
2025-12-18 09:22:51.641 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .gif
2025-12-18 09:22:51.641 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .bmp
2025-12-18 09:22:51.641 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .tiff
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .tif
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .heic
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered image for .heif
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered text for .txt
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered text for .md
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered text for .json
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered text for .xml
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered text for .csv
2025-12-18 09:22:51.642 | DEBUG    | src.ucorefs.types.registry:register:43 - Registered text for .log
2025-12-18 09:22:51.686 | INFO     | __main__:main:120 - ====================================================================================================
2025-12-18 09:22:51.686 | INFO     | __main__:main:121 - \U0001f680 UEXPLORER STARTING
2025-12-18 09:22:51.686 | INFO     | __main__:main:122 - ====================================================================================================
2025-12-18 09:22:51.686 | INFO     | __main__:main:128 - Step 1/7: Creating QApplication...
2025-12-18 09:22:51.775 | INFO     | __main__:main:132 - \u2713 QApplication created: <PySide6.QtWidgets.QApplication(0x25bcf7c7070) at 0x0000025BD1883500>
2025-12-18 09:22:51.776 | INFO     | __main__:main:133 -   - Application name: UExplorer
2025-12-18 09:22:51.776 | INFO     | __main__:main:134 -   - Organization: UCoreFS
2025-12-18 09:22:51.776 | INFO     | __main__:main:137 - Step 2/7: Configuring application quit behavior...
2025-12-18 09:22:51.776 | INFO     | __main__:main:139 - \u2713 Set quitOnLastWindowClosed = True
2025-12-18 09:22:51.776 | INFO     | __main__:main:140 -   - App will quit when main window closes
2025-12-18 09:22:51.776 | INFO     | __main__:main:143 - Step 3/7: Creating qasync event loop...
2025-12-18 09:22:51.780 | INFO     | __main__:main:146 - \u2713 Event loop created: <QIOCPEventLoop running=False closed=False debug=False>
2025-12-18 09:22:51.780 | INFO     | __main__:main:149 - Step 5/7: Running async initialization...
2025-12-18 09:22:51.786 | INFO     | __main__:async_init:41 - ----------------------------------------------------------------------------------------------------
2025-12-18 09:22:51.787 | INFO     | __main__:async_init:42 - Step 4/7: ASYNC INITIALIZATION STARTING
2025-12-18 09:22:51.787 | INFO     | __main__:async_init:43 - ----------------------------------------------------------------------------------------------------
2025-12-18 09:22:51.787 | INFO     | __main__:async_init:45 -   4.1: Building ApplicationBuilder...
2025-12-18 09:22:51.787 | INFO     | __main__:async_init:47 -       Config path: D:\github\USCore\samples\uexplorer\config.toml
2025-12-18 09:22:51.787 | INFO     | __main__:async_init:48 -       Config exists: True
2025-12-18 09:22:51.788 | INFO     | __main__:async_init:65 -   4.2: Starting all systems...
2025-12-18 09:22:51.795 | INFO     | src.core.locator:init:36 - ServiceLocator initialized.
2025-12-18 09:22:51.795 | DEBUG    | src.core.locator:register_system:45 - Registering system: DatabaseManager
2025-12-18 09:22:51.795 | DEBUG    | src.core.locator:register_system:45 - Registering system: CommandBus
2025-12-18 09:22:51.795 | DEBUG    | src.core.locator:register_system:45 - Registering system: JournalService
2025-12-18 09:22:51.795 | DEBUG    | src.core.locator:register_system:45 - Registering system: AssetManager
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: TaskSystem
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: FSService
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: DiscoveryService
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: ThumbnailService
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: VectorService
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: SimilarityService
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: LLMService
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: RelationService
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: TagManager
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: AlbumManager
2025-12-18 09:22:51.796 | DEBUG    | src.core.locator:register_system:45 - Registering system: RulesEngine
2025-12-18 09:22:51.796 | INFO     | src.core.locator:start_all:62 - Starting all systems...
2025-12-18 09:22:51.829 | INFO     | src.core.database.manager:initialize:40 - Connected to MongoDB at mongodb://localhost:27017, DB: foundation_app
2025-12-18 09:22:51.829 | INFO     | src.core.locator:start_all:66 - System DatabaseManager started.
2025-12-18 09:22:51.829 | INFO     | src.core.commands.bus:initialize:15 - CommandBus initialized.
2025-12-18 09:22:51.830 | INFO     | src.core.locator:start_all:66 - System CommandBus started.
2025-12-18 09:22:51.830 | INFO     | src.core.journal.service:initialize:11 - JournalService initialized.
2025-12-18 09:22:51.830 | INFO     | src.core.locator:start_all:66 - System JournalService started.
2025-12-18 09:22:51.830 | INFO     | src.core.assets.manager:initialize:17 - AssetManager initialized.
2025-12-18 09:22:51.830 | INFO     | src.core.locator:start_all:66 - System AssetManager started.
2025-12-18 09:22:51.830 | INFO     | src.core.tasks.system:initialize:19 - TaskSystem initializing...
2025-12-18 09:22:51.835 | INFO     | src.core.tasks.system:initialize:35 - Loaded 0 pending tasks.
2025-12-18 09:22:51.836 | INFO     | src.core.locator:start_all:66 - System TaskSystem started.
2025-12-18 09:22:51.836 | INFO     | src.ucorefs.core.fs_service:initialize:32 - FSService initializing
2025-12-18 09:22:51.836 | INFO     | src.ucorefs.core.fs_service:initialize:35 - FSService ready
2025-12-18 09:22:51.836 | INFO     | src.core.locator:start_all:66 - System FSService started.
2025-12-18 09:22:51.836 | INFO     | src.ucorefs.discovery.service:initialize:29 - DiscoveryService initializing
2025-12-18 09:22:51.836 | INFO     | src.ucorefs.discovery.service:initialize:42 - DiscoveryService ready
2025-12-18 09:22:51.836 | INFO     | src.core.locator:start_all:66 - System DiscoveryService started.
2025-12-18 09:22:51.836 | INFO     | src.ucorefs.thumbnails.service:initialize:31 - ThumbnailService initializing
2025-12-18 09:22:51.837 | INFO     | src.ucorefs.thumbnails.service:initialize:46 - ThumbnailService ready (sizes: [128, 256, 512], cache: thumbnails)
2025-12-18 09:22:51.837 | INFO     | src.core.locator:start_all:66 - System ThumbnailService started.
2025-12-18 09:22:51.837 | INFO     | src.ucorefs.vectors.service:initialize:33 - VectorService initializing
2025-12-18 09:22:51.839 | WARNING  | src.ucorefs.vectors.service:initialize:60 - ChromaDB not available, vector search disabled
2025-12-18 09:22:51.839 | INFO     | src.core.locator:start_all:66 - System VectorService started.
2025-12-18 09:22:51.839 | INFO     | src.ucorefs.ai.similarity_service:initialize:25 - SimilarityService initializing
2025-12-18 09:22:51.839 | INFO     | src.ucorefs.ai.similarity_service:initialize:36 - SimilarityService ready (threshold: 0.85)
2025-12-18 09:22:51.839 | INFO     | src.core.locator:start_all:66 - System SimilarityService started.
2025-12-18 09:22:51.839 | INFO     | src.ucorefs.ai.llm_service:initialize:26 - LLMService initializing
2025-12-18 09:22:51.839 | INFO     | src.ucorefs.ai.llm_service:initialize:40 - LLMService ready (provider: placeholder, enabled: False)
2025-12-18 09:22:51.839 | INFO     | src.core.locator:start_all:66 - System LLMService started.
2025-12-18 09:22:51.839 | INFO     | src.ucorefs.relations.service:initialize:27 - RelationService initializing
2025-12-18 09:22:51.840 | DEBUG    | src.core.tasks.system:_worker:90 - Worker 0 started.
2025-12-18 09:22:51.841 | DEBUG    | src.core.tasks.system:_worker:90 - Worker 1 started.
2025-12-18 09:22:51.841 | DEBUG    | src.core.tasks.system:_worker:90 - Worker 2 started.
2025-12-18 09:22:51.844 | INFO     | src.ucorefs.relations.service:initialize:33 - RelationService ready
2025-12-18 09:22:51.844 | INFO     | src.core.locator:start_all:66 - System RelationService started.
2025-12-18 09:22:51.844 | INFO     | src.ucorefs.tags.manager:initialize:27 - TagManager initializing
2025-12-18 09:22:51.844 | INFO     | src.ucorefs.tags.manager:initialize:29 - TagManager ready
2025-12-18 09:22:51.844 | INFO     | src.core.locator:start_all:66 - System TagManager started.
2025-12-18 09:22:51.844 | INFO     | src.ucorefs.albums.manager:initialize:27 - AlbumManager initializing
2025-12-18 09:22:51.844 | INFO     | src.ucorefs.albums.manager:initialize:29 - AlbumManager ready
2025-12-18 09:22:51.844 | INFO     | src.core.locator:start_all:66 - System AlbumManager started.
2025-12-18 09:22:51.845 | INFO     | src.ucorefs.rules.engine:initialize:30 - RulesEngine initializing
2025-12-18 09:22:51.845 | INFO     | src.ucorefs.rules.engine:initialize:32 - RulesEngine ready
2025-12-18 09:22:51.845 | INFO     | src.core.locator:start_all:66 - System RulesEngine started.
2025-12-18 09:22:51.845 | INFO     | __main__:async_init:67 -   \u2713 All 14 systems started successfully!
2025-12-18 09:22:51.845 | INFO     | __main__:async_init:70 -   4.3: Creating MainWindow...
2025-12-18 09:22:51.865 | ERROR    | __main__:main:206 - ====================================================================================================
2025-12-18 09:22:51.865 | ERROR    | __main__:main:207 - \u274c FATAL ERROR IN MAIN!
2025-12-18 09:22:51.866 | ERROR    | __main__:main:208 - ====================================================================================================
2025-12-18 09:22:51.866 | ERROR    | __main__:main:209 - Exception: name 'logger' is not defined
Traceback (most recent call last):

  File "D:\github\USCore\samples\uexplorer\main.py", line 243, in <module>
    main()
    -> <function main at 0x0000025BCF8F4FE0>

> File "D:\github\USCore\samples\uexplorer\main.py", line 150, in main
    window = loop.run_until_complete(async_init(qt_app, loop))
             |    |                  |          |       -> <QIOCPEventLoop running=False closed=False debug=False>
             |    |                  |          -> <PySide6.QtWidgets.QApplication(0x25bcf7c7070) at 0x0000025BD1883500>
             |    |                  -> <function async_init at 0x0000025BCF8F4F40>
             |    -> <function _QEventLoop.run_until_complete at 0x0000025BCEF336A0>
             -> <QIOCPEventLoop running=False closed=False debug=False>

  File "C:\Users\User\AppData\Local\Programs\Python\Python311\Lib\site-packages\qasync\__init__.py", line 438, in run_until_complete
    return future.result()
           |      -> <method 'result' of '_asyncio.Task' objects>
           -> <Task finished name='Task-1' coro=<async_init() done, defined at D:\github\USCore\samples\uexplorer\main.py:39> exception=Nam...

  File "D:\github\USCore\samples\uexplorer\main.py", line 71, in async_init
    window = MainWindow(locator)
             |          -> <src.core.locator.ServiceLocator object at 0x0000025BCF8FA910>
             -> <class 'main_window.MainWindow'>

  File "D:\github\USCore\samples\uexplorer\src\ui\main_window.py", line 39, in __init__
    logger.info("=" * 80)

NameError: name 'logger' is not defined
2025-12-18 09:22:51.873 | INFO     | __main__:main:214 - ====================================================================================================
2025-12-18 09:22:51.873 | INFO     | __main__:main:215 - EVENT LOOP EXITED - Exit code: 1
2025-12-18 09:22:51.873 | INFO     | __main__:main:216 - ====================================================================================================
2025-12-18 09:22:51.873 | INFO     | __main__:main:218 - Reason: User closed window normally
2025-12-18 09:22:51.873 | INFO     | __main__:main:221 - Starting cleanup...
2025-12-18 09:22:51.873 | INFO     | __main__:main:222 -   Stopping all systems...
2025-12-18 09:22:51.873 | INFO     | __main__:main:231 -   \u2713 Skipped stop_all (causes event loop issues)
2025-12-18 09:22:51.873 | INFO     | __main__:main:233 - \u2713 Cleanup complete
2025-12-18 09:22:51.873 | INFO     | __main__:main:235 - ====================================================================================================
2025-12-18 09:22:51.873 | INFO     | __main__:main:236 - \U0001f44b UEXPLORER SHUTDOWN COMPLETE
2025-12-18 09:22:51.873 | INFO     | __main__:main:237 - ====================================================================================================
